---
import Layout from '../../layouts/Layout.astro';
import { getAllActivities } from '../../../backend.mjs';

const activities = await getAllActivities();
---

<Layout>
    <h1 class="text-3xl font-bold text-center mb-6 text-white font-spacemono mt-8">Liste des Activit√©s</h1>

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
        {activities.map(activity => (
            <a href={`/activites/${activity.id}`} class="block bg-gray-800 rounded-lg overflow-hidden shadow-lg transform transition hover:scale-105">
                <img src={`http://127.0.0.1:8090/api/files/Activites/${activity.id}/${activity.image_activites}`} alt={activity.image_activites} class="w-full h-60 object-cover" />
                <div class="p-4">
                    <h2 class="text-xl font-semibold text-white font-irishgrover">{activity.Titre_activites}</h2>
                    <p class="text-gray-400 text-sm">{activity.Date_activites}</p>
                </div>
            </a>
        ))}
    </div>
</Layout>
