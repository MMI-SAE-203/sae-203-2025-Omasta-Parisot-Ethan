---
import Layout from '../../layouts/Layout.astro';
import { getAllFilms } from '../../../backend.mjs';

const films = await getAllFilms();
---

<Layout>
    <h1 class="text-3xl font-bold text-center mb-6 text-white font-spacemono mt-8">Liste des Films</h1>

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
        {films.map(film => (
            <a href={`/films/${film.id}`} class="block bg-gray-800 rounded-lg overflow-hidden shadow-lg transform transition hover:scale-105">
                <img src={`http://127.0.0.1:8090/api/files/Films/${film.id}/${film.Affiche_film}`} alt={film.Titre_film} class="w-full h-60 object-cover" />
                <div class="p-4">
                    <h2 class="text-xl font-semibold text-white font-irishgrover">{film.Titre_film}</h2>
                    <p class="text-gray-400 text-sm">{film.Date_film}</p>
                </div>
            </a>
        ))}
    </div>
</Layout>
